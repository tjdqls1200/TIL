## 전송 계층(Transport Layer)의 TCP와 UDP 특징

### 1. TCP / IP 란?

컴퓨터의 경우 사용하는 운영 체제도 서로 다르고 프로그램의 경우 구현된 언어가 다르기 때문에 네트워크에서 이들이 통신할 수 있도록 하려면 **공통된 통신 규약(프로토콜)**이 필요했다. 그래서 관련 프로토콜을 **국제적으로 표준화하기 위해 채택된 통신 규약이 바로 TCP/IP 방식**으로 통상 IP 위에 TCP 가 놓이게 되므로 TCP/IP 라고 부르게 되었다.



### 2. TCP/IP와 UDP

**전송 계층은 네트워크 계층(IP)에서 받은 데이터들을 호스트 간에 전송하기 위해 전송 방식을 결정하여 데이터를 전달하는 역할**을 한다. 그리고 데이터를 보내기 위해 사용되는 프로토콜이 바로 **TCP 와 UDP**다.



**1) IP (Internet Protocol)**

- 4byte로 이루어진 주소 번호를 사용하여 각각의 node 를 구분, **데이터 조각들을 최대한 빨리 목적지**로 보내는 역할



**2) TCP (Transmission Control Protocol)**

- IP보다 느리지만 도착한 조각들을 정렬하고 손실된 부분을 다시 요청하여 **데이터를 안전하게 전달**하는 역할

- TCP/IP에서 IP가 데이터의 전송을 처리한다면 TCP는 **패킷을 추적 및 관리하는 역할**을 한다. (패킷에 번호를 부여)

- **연결형 서비스로 가상 회선 방식**을 제공, 발신지와 수신지를 연결하여 **패킷을 전송하기 위한 논리적 경로를 배정**하는 방식 

- 속도는 느리지만 논리적이면서 높은 신뢰성을 가지는 전송을 보장하기 위해 **3 & 4way handshake** 방법을 사용 

- 3-way handshake 는 데이터의 정확한 전송을 보장하기 위해 **상대방 호스트와 사전에 세션을 수립**하는 과정

  

  **3-way handshaking (TCP 의 연결 과정)**

  1. Client → Server (**접속을 요청하는 SYN 패킷**을 전송, Client = SYN_SENT 상태)
  2. Client ← Server (**요청을 수락하는 ACK + SYN 패킷**을 전송, Server = SYN_RECEIVED 상태)
  3. Client → Server (**ACK 전송 후 연결 성공**, Server = ESTABLISHED 상태)

  

  **4-way handshaking (연결 후, 모든 통신이 끝나면 해제)**

  1. Client → Server (**연결을 종료하는 FIN 플래그** 전송)
  2. Client ← Server (**확인 메세지 ACK** 전송, TIME_WAIT 대기 상태)
  3. Client ← Server (**연결 종료 후 FIN 플래그** 전송)
  4. Client → Server (**확인 메세지 ACK** 전송)



**3) UDP (*User* Datagram Protocol)**

- **데이터를 데이터그램(독립적인 관계를 지니는 패킷) 단위로 처리**하는 프로토콜 (각각의 패킷은 다른 경로로 전송)
-  TCP 와 달리 연결을 위해 할당되는 **논리적인 경로가 없는 비연결형** 프로토콜 
- 신호 절차를 거치지 않기 때문에 TCP 보다 속도가 빠르고 **네트워크 부하가 적지만 신뢰성을 보장하지는 못 함** 
- 주로 **전화, 실시간 서비스 등 연속성이 중요한 서비스**에 사용된다.