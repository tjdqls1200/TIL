# 순서도



apt update : 현재 컨테이너 안에 있는 패키지 List를 update (apt : Advanced Packaging Tool)

(dpkg -l : 패키지 List 확인)

apt install : 패키지가 이미 있을 때

apt-get install : 패키지가 없을 때

service [패키지명] [동작] : 패키지 실행 명령



1. debian:buster 운영체제(OS) 설치
   - docker run -it -p 8000:80 debian:buster /bin/bash
   - apt update && apt upgrade (apt update : 현재 컨테이너 안에 있는 패키지 List를 update (apt : Advanced Packaging Tool)
2. Nginx 서버 설치
   - apt-get -y install nginx
3. php-fpm 설치
   - apt-get -y install php
4. Nginx & php 연동
   - apt-get install openssl vim
   - etc/nginx/sites-available/default 설정 변경
   - var/www/html/phpinfo.php 파일 생성

```php
#phpinfo.php file
<?php phpinfo() ?>
```

5. MaraDB 설치

   - apt install mariadb-server php-mysql
   - service mysql start
   - mysql -u root -p (u:user, p:password)

6. phpmyadmin 설치

   - apt-get -y install phpmyadmin (X)

     - debian:buster 에서는 phpmyadmin을 install 할 수 없다.

   - apt-get install -y wget 설치 (웹에서 phpmyadmin을 get 하기 위해 사용)

     - GNU Wget(WWW + get) : 웹 서버로부터 콘텐츠를 가져오는 컴퓨터 프로그램으로, GNU 프로젝트의 일부이다. HTTP, HTTPS, FTP 프로토콜을 통해 내려받기를 지원한다.

   - wget https://files.phpmyadmin.net/phpMyAdmin/5.0.2/phpMyAdmin-5.0.2-all-languages.tar.gz (압축 파일을 내려 받음)

   - tar -xvf phpMyAdmin-5.0.2-all-languages.tar.gz (압축 파일 해제)

   - mv phpMyAdmin-5.0.2-all-languages phpmyadmin

   - mv phpmyadmin /var/www/html/ 

   - blowfish password를 http://www.passwordtool.hu/blowfish-password-hash-generator 에서 generate 받아 입력

   - ```
     # Copy config.sample.inc.php to config.inc.php
     
     cp -rp var/www/html/phpmyadmin/config.sample.inc.php var/www/html/phpmyadmin/config.inc.php
     
     
     vim var/www/html/phpmyadmin/config.inc.php
     
     -> $cfg['blowfish_secret'] = 'Generated Blowfish Password';
     ```
```
     
   - ```
     #1 Nginx & php & mysql 
     
     service nginx reload
     service mysql start
     service php7.3-fpm restart
     
     #2 DB Table Create
     mysql -u root --skip-password < var/www/html/phpmyadmin/sql/create_tables.sql
     
     mysqladmin -u root -p password
     
     show databases;
     
     #3 Wordpress DB Create
     CREATE DATABASE IF NOT EXISTS wordpress;
     
     #4 Granting Access
     Grant all privileges on *.* to ‘user’@‘%’ identified by ‘password’ with grant option;
     
     #5 Apply the changes by reloading the grant table
  flush privileges;
   
     show databases;
     exit
```


7. Wordpress 설치

   - ```
     wget https://wordpress.org/latest.tar.gz
     tar -xvf latest.tar.gz
     mv wordpress var/www/html/
     
     # 웹서비스의 홈디렉토리의 소유자를 www-data:www-data 로 변경
   chown -R www-data:www-data /var/www/html/wordpress
     
     ```
     
   - ```php
     // ** MySQL settings - You can get this info from your web host ** //
     /** The name of the database for WordPress */
     define( 'DB_NAME', 'wordpress' );
     
     /** MySQL database username */
     define( 'DB_USER', 'root' );
     
     /** MySQL database password */
     define( 'DB_PASSWORD', 'mysql password' );
     
     /** MySQL hostname */
     define( 'DB_HOST', 'localhost' );
     
     /** Database Charset to use in creating database tables. */
     define( 'DB_CHARSET', 'utf8' );
     
     /** The Database Collate type. Don't change this if in doubt. */
     define( 'DB_COLLATE', '' );
     ```

     

8. 리디렉션 

   - http -> https 주소로 경로를 바꾸어 줌.







https://webdir.tistory.com/231



[도움] https://42kchoi.tistory.com/161?category=888384

[도움] https://yeosong1.github.io/ftserver-