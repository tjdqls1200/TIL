unsigned int 값에 음수를 대입하면 어떻게 될까?

부호가 없는 unsigned int 형에 -1 을 대입하면 컴파일러는 signed int 로 Type Casting 을 하면서 음수 부호 때문에 2의 보수를 취한다.

먼저 - 를 제외한 1의 값인 0000 0000 0000 0000 0000 0000 0000 0001 에서 1의 보수를 취해

1111 1111 1111 1111 1111 1111 1111 1110  가 되고 2의 보수를 취하기 위해 마지막 비트에 1을 더하면

1111 1111 1111 1111 1111 1111 1111 1111 가 되어 결과적으로는 0xFFFFFFFF 의 값이 나오게 된다.



<필요 지식>

컴퓨터는 n 개의 비트를 이용해 2^n 개의 정수만 표현할 수 있다. +, - 기호 또한 비트로 표현을 해야하기 때문에 일반적으로는 비트로 이루어진 수를 보고 정수 값이 어떻게 되는지 판단하기가 어렵다. 그래서 비트로 표현된 값을 해석하기 위해서는 보수의 개념을 알아야 한다.

보수란, '두 수의 합이 진법의 밑수(N)가 되게 하는 수'이다. (밑수는 수의 표현에 사용되는 숫자의 개수로 2진법은 2, 10진법은 10의 밑수를 가진다.)  10진법 수 8의 보수는 2가 되는 것이다. ( 8 + 2 = 10, 10 - 8 = 2) 

컴퓨터는 사칙연산을 할 때 가산기(Adder)를 사용하기 때문에 뺄셈은 덧셈으로 형식을 변환하여 계산해야 한다. A - B 를 계산할 때 B의 보수(-B)를 구한 다음 A + (-B) 로 계산하는 것이다. 

1의 보수 : 모든 자릿수의 값이 1인 2진수 값에서 보수화 하려는 2진수 값을 빼면 1의 보수를 얻을 수 있다.

2의 보수 : 1의 보수에 1을 더하면 2의 보수를 얻을 수 있다.