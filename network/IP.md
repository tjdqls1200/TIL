## 4. 전송 계층(Transport Layer)의 TCP와 UDP 특징

전송 계층은 네트워크 계층에서 받은 데이터들을 호스트 간에 전송하기 위해 전송 방식을 결정하여 데이터를 전달하는 역할을 한다. 그리고 데이터를 보내기 위해 사용되는 프로토콜이 바로 TCP 와 UDP다.

- TCP (Transmission Control Protocol)

  TCP/IP 에서 IP 가 데이터의 전송을 처리한다면 TCP 는 패킷을 추적 및 관리하는 역할을 한다. (패킷에 번호를 부여)

  TCP 는 연결형 서비스로 가상 회선 방식을 제공하는데 이는 발신지와 수신지를 연결하여 패킷을 전송하기 위한 논리적 경로를 배정하는 방식이다. 그리고 속도는 느리지만 논리적이면서 높은 신뢰성을 가지는 전송을 보장하기 위해 3-way handshake 방법을 사용한다. 3-way handshake 는 데이터를 전송하기에 앞서 정확한 전송을 보장하기 위해 상대방 호스트와 사전에 세션을 수립하는 과정이다.

  3-way handshaking (TCP 의 연결 초기화 과정)

  1. Client → Server (접속을 요청하는 SYN 패킷을 전송, Client = SYN_SENT 상태)
  2. Client ← Server (요청을 수락하는 ACK + SYN 패킷을 전송, Server = SYN_RECEIVED 상태)
  3. Client → Server (ACK 전송 후 연결 성공, Server = ESTABLISHED 상태)

  4-way handshaking (TCP 의 연결 종료 과정)

  1. Client → Server (연결을 종료하는 FIN 플래그 전송)
  2. Client ← Server (확인 메세지 ACK 전송, TIME_WAIT 대기 상태)
  3. Client ← Server (연결 종료 후 FIN 플래그 전송)
  4. Client → Server (확인 메세지 ACK 전송)

- UDP (User Datagram Protocol)

  UDP 는 데이터를 데이터그램(독립적인 관계를 지니는 패킷) 단위로 처리하는 프로토콜로서 TCP 와 달리 연결을 위해 할당되는 논리적인 경로가 없는 비연결형 프로토콜이다. 그래서 각각의 패킷은 다른 경로로 전송되어 독립적으로 처리가 된다. 신호 절차를 거치지 않기 때문에 TCP 보다 속도가 빠르고 네트워크 부하가 적지만 TCP 처럼 패킷에 순서를 부여하고 재조립을 하지 않기 때문에 신뢰성을 보장하지는 못 한다. 주로 전화, 실시간 서비스 등 연속성이 중요한 서비스에 사용된다.

### 

## 5. IP 주소의 특징

IP 는  네트워크 환경에서 컴퓨터(노드) 간 통신하기 위해 각 컴퓨터에 부여된 네트워크 주소이다.

- IP 통신에 필요한 고유 주소로 IPv4, IPv6 두 가지 체계가 있다. (IPv4 의 부족으로 IPv6 표현식으로 대체)

- Pv4 는 32bit의 값을 가지며 일반적으로 8bit씩(= 옥테드) 끊어 0 ~ 255의 10진수 숫자로 나타내며, 각 옥테드는 dot으로 구분. (일반적인 IP 주소)

- 네트워크부와 호스트부로 나뉨.

- 네트워크 주소는 특정 네트워크의 주소이고 라우팅 시 사용, 호스트 주소는 네트워크에 속한 호스트의 주소

  서브네팅(Subnetting) : 네트워크 관리자가 네트워크 향상을 위해 자원을 효율적으로 분배하는 것(네트워크 영역과 호스트 영역을 분할)

  ex)  203 . 0 . 113 . 43 (네트워크 주소 : 203 . 0 . 113 | 호스트 주소 : 43)

- 하나의 네트워크란(=하나의 브로드캐스트) 라우터를 거치지 않고도 통신이 가능한 영역으로 같은 네트워크 주소, 다른 호스트 주소의 경우를 말한다.

- 이 네트워크 주소 부분의 비트를 1로 치환할 것이 Netmask 이다.

### IP Class

- 하나의 IP 주소에서 네트워크 영역과 호스트 영역을 나누는 방법으로 네트워크의 규모에 따라 결정

- 하나의 네트워크에서 몇 개의 호스트 IP를 가질 수 있느냐에 따라 클래스가 결정된다.

- 고정구간으로 낭비가 많아 후에 CIDR (Classless Inter-Domain Routing) 로 변경.

  CIDR : 클래스 없는 도메인 간 라우팅 기법으로 IPv4 주소를 좀 더 효율적으로 사용 가능

  네트워크 주소 뒤를 / 로 구분하고 subnet-mask의 bit 수를 적어 표시한다. (192 . 168 . 1 . 0 / 26)

![image-20200726223343824](/Users/sungblee/Library/Application Support/typora-user-images/image-20200726223343824.png)

### Netmask

- 네트워크 주소 부분의 bit 를 1로 치환한 것. (255 . 255 . 255. 0)
- IP 주소와 netmask 를 AND 연산하면 네트워크 주소를 얻을 수 있다.

### Subnet(Subnet-mask)

- 하나의 네트워크를 여러 개의 subnet 으로 분할하는 것.
- 서브넷화 하는 경우 네트워크 주소 부분의 bit 를 연장한다. 나머지 호스트 부분은 호스트 식별자가 된다.
- 1과 0으로 이뤄져 있으며, 1과 0은 연속으로 나온다.  (1은 네트워트 영역, 0은 호스트 ip로 사용한다는 의미)
- 기본 서브넷 : (255.255.255.0) / 서브넷 네트워크 : 기본 subnet-maks 로 쪼개진 네트워크 주소